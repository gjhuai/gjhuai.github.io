<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/17/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-architecture/《大型网站技术架构》读书笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/%E3%80%8A%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.829Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>《大型网站技术架构》读书笔记：</p>
<p>当我们架设一个系统的时候通常需要考虑到如何与其他系统交互，所以我们首先需要知道各种系统之间是如何交互的，使用何种技术实现。  </p>
<h1 id="1-不同系统不同语言之间的交互"><a href="#1-不同系统不同语言之间的交互" class="headerlink" title="1. 不同系统不同语言之间的交互"></a>1. 不同系统不同语言之间的交互</h1><p>现在我们常见的不同系统不同语言之间的交互使用WebService，Http请求。WebService，即“Web 服务”，简写为 WS。从字面上理解，它其实就是“基于 Web 的服务”。而服务却是双方的，有服务需求方，就有服务提供方。服务提供方对外发布服务，服务需求方调用服务提供方所发布的服务。如果说得再专业一点，WS 其实就是建立在 HTTP 协议上实现异构系统通讯的工具。没错！WS 说白了还是基于 HTTP 协议的，也就是说，数据是通过 HTTP 进行传输的。最早我们是用CXF开发SOAP服务实现WS，后面我们是用REST服务实现WS(这个目前使用比较多，也最我用得最多的这一种)。基于CXF也可以开发REST服务，不过我们一般直接使用springMVC或者其他MVC框架实现REST服务。  </p>
<p>但是在很多人的印象中Web service的话一般指十来年前IBM主导的基于XML的各种交互技术，现在除了一些公司在用之外用得人也很少了。广义的话Webservice就是Web 服务了，一切皆服务。  </p>
<h1 id="2-不同系统相同语言之间的交互"><a href="#2-不同系统相同语言之间的交互" class="headerlink" title="2. 不同系统相同语言之间的交互"></a>2. 不同系统相同语言之间的交互</h1><p>常见的不同系统相同语言之间的交互用RPC(远程过程调用)，或者RMI(远程方法调用)实现，不用对外部提供服务，当然上面说的也可以使用在相同语言之间的交互,只是我常用的是RPC。  </p>
<h2 id="1-1大型网站软件系统的特点"><a href="#1-1大型网站软件系统的特点" class="headerlink" title="1.1大型网站软件系统的特点"></a>1.1大型网站软件系统的特点</h2><p>与传统企业应用系统相比，大型互联网应用系统有以下特点。<br>高并发，大流量<br>高可用<br>海量数据<br>用户分布广泛，网络情况复杂<br>安全环境恶劣<br>需求快速变更，发布频繁<br>渐进式发展</p>
<h2 id="1-2大型网站架构演化发展历程"><a href="#1-2大型网站架构演化发展历程" class="headerlink" title="1.2大型网站架构演化发展历程"></a>1.2大型网站架构演化发展历程</h2><p>大型网站的技术挑战主要来自于庞大的用户，高并发的访问和海量的数据，任何简单的业务一旦需要处理数以P计的数据和面对数以亿计的用户，问题就会变得很棘手。大型网站架构主要就是解决这类问题</p>
<h3 id="1-2-1初始阶段的网站架构"><a href="#1-2-1初始阶段的网站架构" class="headerlink" title="1.2.1初始阶段的网站架构"></a>1.2.1初始阶段的网站架构</h3><p><img src="_v_images/2019-11-21-20-58-13.png"></p>
<p>初始阶段 的小型系统 应用程序、数据库、文件等所有的资源都在一台服务器上通俗称为LAMP  </p>
<p>特征：应用程序、数据库、文件等所有的资源都在一台服务器上。  </p>
<p>描述：通常服务器操作系统使用linux，应用程序使用PHP开发，然后部署在Apache上，数据库使用Mysql，汇集各种免费开源软件以及一台廉价服务器就可以开始系统的发展之路了。  </p>
<h3 id="1-2-2应用服务和数据服务分离"><a href="#1-2-2应用服务和数据服务分离" class="headerlink" title="1.2.2应用服务和数据服务分离"></a>1.2.2应用服务和数据服务分离</h3><p><img src="_v_images/2019-11-21-20-58-33.png"></p>
<p>好景不长，发现随着系统访问量的再度增加，webserver机器的压力在高峰期会上升到比较高，这个时候开始考虑增加一台webserver  </p>
<p>特征：应用程序、数据库、文件分别部署在独立的资源上。  </p>
<p>描述：数据量增加，单台服务器性能及存储空间不足，需要将应用和数据分离，并发处理能力和数据存储空间得到了很大改善。  </p>
<h3 id="1-2-3使用缓存改善网站性能"><a href="#1-2-3使用缓存改善网站性能" class="headerlink" title="1.2.3使用缓存改善网站性能"></a>1.2.3使用缓存改善网站性能</h3><p><img src="_v_images/2019-11-21-21-00-27.png"></p>
<p>  特征：数据库中访问较集中的一小部分数据存储在缓存服务器中，减少数据库的访问次数，降低数据库的访问压力。  </p>
<p>描述：系统访问特点遵循二八定律，即80%的业务访问集中在20%的数据上。缓存分为本地缓存和远程分布式缓存，本地缓存访问速度更快但缓存数据量有限，同时存在与应用程序争用内存的情况。  </p>
<h3 id="1-2-4使用应用服务器集群改善网站的并发处理能力"><a href="#1-2-4使用应用服务器集群改善网站的并发处理能力" class="headerlink" title="1.2.4使用应用服务器集群改善网站的并发处理能力"></a>1.2.4使用应用服务器集群改善网站的并发处理能力</h3><p><img src="_v_images/2019-11-21-21-00-41.png"></p>
<p>  在做完分库分表这些工作后，数据库上的压力已经降到比较低了，又开始过着每天看着访问量暴增的幸福生活了，突然有一天，发现系统的访问又开始有变慢的趋势了，这个时候首先查看数据库，压力一切正常，之后查看webserver，发现apache阻塞了很多的请求，而应用服务器对每个请求也是比较快的，看来 是请求数太高导致需要排队等待，响应速度变慢  </p>
<p>特征：多台服务器通过负载均衡同时向外部提供服务，解决单台服务器处理能力和存储空间上限的问题。  </p>
<p>描述：使用集群是系统解决高并发、海量数据问题的常用手段。通过向集群中追加资源，提升系统的并发处理能力，使得服务器的负载压力不再成为整个系统的瓶颈。  </p>
<h3 id="1-2-5数据库读写分离"><a href="#1-2-5数据库读写分离" class="headerlink" title="1.2.5数据库读写分离"></a>1.2.5数据库读写分离</h3><p><img src="_v_images/2019-11-21-21-00-54.png"></p>
<p>  享受了一段时间的系统访问量高速增长的幸福后，发现系统又开始变慢了，这次又是什么状况呢，经过查找，发现数据库写入、更新的这些操作的部分数据库连接的资源竞争非常激烈，导致了系统变慢  </p>
<p>特征：多台服务器通过负载均衡同时向外部提供服务，解决单台服务器处理能力和存储空间上限的问题。  </p>
<p>描述：使用集群是系统解决高并发、海量数据问题的常用手段。通过向集群中追加资源，使得服务器的负载压力不在成为整个系统的瓶颈。  </p>
<h3 id="1-2-6使用反向代理和CDN加速网站响应"><a href="#1-2-6使用反向代理和CDN加速网站响应" class="headerlink" title="1.2.6使用反向代理和CDN加速网站响应"></a>1.2.6使用反向代理和CDN加速网站响应</h3><p><img src="_v_images/2019-11-21-21-01-09.png"></p>
<p>  特征：采用CDN和反向代理加快系统的 访问速度。  </p>
<p>描述：为了应付复杂的网络环境和不同地区用户的访问，通过CDN和反向代理加快用户访问的速度，同时减轻后端服务器的负载压力。CDN与反向代理的基本原理都是缓存。  </p>
<h3 id="1-2-7使用分布式文件系统和分布式数据库系统"><a href="#1-2-7使用分布式文件系统和分布式数据库系统" class="headerlink" title="1.2.7使用分布式文件系统和分布式数据库系统"></a>1.2.7使用分布式文件系统和分布式数据库系统</h3><p><img src="_v_images/2019-11-21-21-01-20.png"></p>
<p>  随着系统的不断运行，数据量开始大幅度增长，这个时候发现分库后查询仍然会有些慢，于是按照分库的思想开始做分表的工作  </p>
<p>特征：数据库采用分布式数据库，文件系统采用分布式文件系统。  </p>
<p>描述：任何强大的单一服务器都满足不了大型系统持续增长的业务需求，数据库读写分离随着业务的发展最终也将无法满足需求，需要使用分布式数据库及分布式文件系统来支撑。分布式数据库是系统数据库拆分的最后方法，只有在单表数据规模非常庞大的时候才使用，更常用的数据库拆分手段是业务分库，将不同的业务数据库部署在不同的物理服务器上。  </p>
<h3 id="1-2-8使用NoSQL和搜索引擎"><a href="#1-2-8使用NoSQL和搜索引擎" class="headerlink" title="1.2.8使用NoSQL和搜索引擎"></a>1.2.8使用NoSQL和搜索引擎</h3><p><img src="_v_images/2019-11-21-21-01-38.png"></p>
<p>  特征：系统引入NoSQL数据库及搜索引擎。  </p>
<p>描述：随着业务越来越复杂，对数据存储和检索的需求也越来越复杂，系统需要采用一些非关系型数据库如NoSQL和分数据库查询技术如搜索引擎。应用服务器通过统一数据访问模块访问各种数据，减轻应用程序管理诸多数据源的麻烦。  </p>
<h3 id="1-2-9业务拆分"><a href="#1-2-9业务拆分" class="headerlink" title="1.2.9业务拆分"></a>1.2.9业务拆分</h3><p><img src="_v_images/2019-11-21-21-01-49.png"></p>
<p>  特征：系统上按照业务进行拆分改造，应用服务器按照业务区分进行分别部署。  </p>
<p>描述：为了应对日益复杂的业务场景，通常使用分而治之的手段将整个系统业务分成不同的产品线，应用之间通过超链接建立关系，也可以通过消息队列进行数据分发，当然更多的还是通过访问同一个数据存储系统来构成一个关联的完整系统。纵向拆分：将一个大应用拆分为多个小应用，如果新业务较为独立，那么就直接将其设计部署为一个独立的Web应用系统纵向拆分相对较为简单，通过梳理业务，将较少相关的业务剥离即可。横向拆分：将复用的业务拆分出来，独立部署为分布式服务，新增业务只需要调用这些分布式服务横向拆分需要识别可复用的业务，设计服务接口，规范服务依赖关系。  </p>
<h3 id="1-2-10分布式服务"><a href="#1-2-10分布式服务" class="headerlink" title="1.2.10分布式服务"></a>1.2.10分布式服务</h3><p><img src="_v_images/2019-11-21-21-02-02.png"></p>
<p>参考知识库 大型网站架构知识库</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/%E3%80%8A%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" data-id="ckqg285u3002mrcfp6kow07m4" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/Zuul学习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/Zuul%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.826Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="http://lxlong.iteye.com/blog/2267985">Netflix学习笔记：Zuul</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/Netflix/zuul/wiki/zuul-simple-webapp">从Zuul Simple Webapp入手</a></p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p><a target="_blank" rel="noopener" href="https://github.com/flindby/spring-oauth2-zuul">https://github.com/flindby/spring-oauth2-zuul</a></p>
<p>Spring Boot + Oauth2 + Zuul</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/Zuul%E5%AD%A6%E4%B9%A0/" data-id="ckqg285u2002krcfp4tc8hmd9" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/zookeeper学习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/zookeeper%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.825Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/haippy/archive/2012/07/19/2599989.html">Zookeeper 初体验之——伪分布式安装</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/haippy/archive/2012/07/19/2600032.html">Zookeeper 初体验之——JAVA API 初探</a><br>  Hello World</p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/haippy/archive/2012/07/20/2600077.html">Zookeeper 初体验之——JAVA实例</a><br>   Apache Zookeeper 官网的例子，有点晦涩</p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="http://www.cnblogs.com/haippy/archive/2012/07/23/2603583.html">Zookeeper 进阶之——典型应用场景（一）</a></p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="http://www.cnblogs.com/haippy/archive/2012/07/23/2604556.html">Zookeeper 进阶之——典型应用场景（二）</a></p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="http://www.cnblogs.com/haippy/archive/2012/07/26/2609769.html">Zookeeper 进阶之——Zookeeper编程示例（如何使用Zookeeper实现屏障Barriers和队列Queues）</a><br>英文的</p>
</li>
</ul>
<ul>
<li><p>  <a target="_blank" rel="noopener" href="http://tech.uc.cn/?p=1189">Zookeeper开发常见问题分析</a></p>
</li>
<li><p>  <a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/opensource/os-cn-zookeeper/">分布式服务框架 Zookeeper – 管理分布式环境中的数据</a></p>
</li>
</ul>
<h2 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h2><ul>
<li><a target="_blank" rel="noopener" href="http://my.oschina.net/xianggao/blog/538867">OSChina  Zookeeper系列_Index </a></li>
<li>  <a target="_blank" rel="noopener" href="http://my.oschina.net/xianggao/blog/531613">【Zookeeper系列二】ZooKeeper典型应用场景实践</a></li>
</ul>
<ul>
<li>  <a target="_blank" rel="noopener" href="http://my.oschina.net/huangyong/blog/345164?fromerr=5OjN02he">使用 RMI + ZooKeeper 实现远程调用框架</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/gpcuster/archive/2010/12/29/1921213.html"> ZOOKEEPER解惑 </a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/zookeeper%E5%AD%A6%E4%B9%A0/" data-id="ckqg285u3002nrcfpff7vf9wj" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/XSS跨站漏洞" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/XSS%E8%B7%A8%E7%AB%99%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.824Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="What"><a href="#What" class="headerlink" title="What:"></a>What:</h2><p>XSS（cross-site script）跨站脚本是由于web应用程序对用户的输入过滤不严而产生的。攻击者利用网站漏洞把恶意的脚本代码注入到网页中，当其他用户浏览这些网页时，就会执行其中的恶意代码，对受害用户可能采用cookie资料窃取，会话劫持，钓鱼欺骗等攻击手段。</p>
<p>如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用xss弹出恶意警告框，代码为：</span></span><br><span class="line"></span><br><span class="line">&lt;script&gt;alert(<span class="string">&quot;xss&quot;</span>)&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// xss输入也可能是html代码段，如果使网页不停的刷新，代码为</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;0;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">// 嵌入其他网站链接的代码为：</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">http:/liuwx.cn</span> <span class="attr">width</span>=<span class="string">0</span> <span class="attr">height</span>=<span class="string">0</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>


<h3 id="XSS分类"><a href="#XSS分类" class="headerlink" title="XSS分类"></a>XSS分类</h3><ul>
<li><p>反射型XSS： 非持久化 ， 只执行一次 。如： <a target="_blank" rel="noopener" href="http://www.liuwx.cn/xss.php?id=">http://www.liuwx.cn/xss.php?id=</a><script>alert(1)</script></p>
</li>
<li><p>DOM型 XSS：</p>
</li>
<li><p>存储型XSS：脚本被上传到Server</p>
</li>
</ul>
<h2 id="How"><a href="#How" class="headerlink" title="How:"></a>How:</h2><h3 id="如何防范？"><a href="#如何防范？" class="headerlink" title="如何防范？"></a>如何防范？</h3><p>常见的防xss代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$x=preg_replace(“/script/”,””,$x);</span><br><span class="line"></span><br><span class="line">$x=preg_replace(“/script/i”,””,$x);</span><br><span class="line"></span><br><span class="line">$x=preg_replace(“/alert/i”,””,$x);</span><br><span class="line"></span><br><span class="line">$x=preg_replace(“/script/i”,””,$x);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="Java防止XSS"><a href="#Java防止XSS" class="headerlink" title="Java防止XSS"></a>Java防止XSS</h3><p>使用Filter过滤转换浏览器提交的内容。可以使用Spring的工具类：HtmlUtils.htmlEscape，或者commons-lang提供的StringEscapeUtils.escapeHtml。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XSSFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">        chain.doFilter(<span class="keyword">new</span> XSSRequestWrapper((HttpServletRequest) request), response);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XSSRequestWrapper</span> <span class="keyword">extends</span> <span class="title">HttpServletRequestWrapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">XSSRequestWrapper</span><span class="params">(HttpServletRequest servletRequest)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>(servletRequest);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String[] getParameterValues(String parameter) &#123;</span><br><span class="line"></span><br><span class="line">        String[] values = <span class="keyword">super</span>.getParameterValues(parameter);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (values == <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> count = values.length;</span><br><span class="line"></span><br><span class="line">        String[] encodedValues = <span class="keyword">new</span> String[count];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line"></span><br><span class="line">            encodedValues[i] = stripXSS(values[i]);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> encodedValues;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getParameter</span><span class="params">(String parameter)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String value = <span class="keyword">super</span>.getParameter(parameter);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> stripXSS(value);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getHeader</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String value = <span class="keyword">super</span>.getHeader(name);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> stripXSS(value);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">stripXSS</span><span class="params">(String value)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> HtmlUtils.htmlEscape(value);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26375200">XSS跨站漏洞详解</a><br><a target="_blank" rel="noopener" href="http://itindex.net/detail/55334-java-xss-%E6%94%BB%E5%87%BB">java 防止 XSS 攻击的常用方法总结</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/XSS%E8%B7%A8%E7%AB%99%E6%BC%8F%E6%B4%9E/" data-id="ckqg285u1002jrcfpbmodawps" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/WonderWare" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/WonderWare/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.823Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h3><p>InTouch –&gt; 收购System Platform –&gt; 在SP基础重新构建InTouch，提供丰富的HMI</p>
<h3 id="组成结构"><a href="#组成结构" class="headerlink" title="组成结构"></a>组成结构</h3><p><img src="_v_images/2019-11-29-17-03-47.png"></p>
<p><img src="_v_images/2019-11-29-17-04-11.png"></p>
<h3 id="MES"><a href="#MES" class="headerlink" title="MES"></a>MES</h3><p>MES 制造执行系统(manufacturing execution system，简称MES），包含<strong>生产运营和资产管理</strong>等，在WW中包括四个部分： 生产管理 Operations,  设备绩效 Performance,  质量管理 Quality, Enterprise Integration。</p>
<p><strong>制造业信息化的三层模型</strong></p>
<div align="center">

<p><img src="_v_images/2019-11-29-17-04-31.png"></p>
</div>



<p>MES更多内容：<br><a target="_blank" rel="noopener" href="http://www.baike.com/wiki/MES"> MES互动百科 </a></p>
<h4 id="1-生产管理-Operations"><a href="#1-生产管理-Operations" class="headerlink" title="1. 生产管理 Operations"></a>1. 生产管理 Operations</h4><ul>
<li>生产流程</li>
</ul>
<h4 id="2-设备绩效-Performance"><a href="#2-设备绩效-Performance" class="headerlink" title="2. 设备绩效 Performance"></a>2. 设备绩效 Performance</h4><ul>
<li>设备使用率</li>
</ul>
<h4 id="3-质量管理-Quality"><a href="#3-质量管理-Quality" class="headerlink" title="3. 质量管理 Quality"></a>3. 质量管理 Quality</h4><ul>
<li><p>生产事件自动触发： 通过对设备的监控，根据监控的结果发起某一个生产流程</p>
</li>
<li><p>SPC 分析 –&gt; 报警</p>
</li>
<li><p>样本计划</p>
</li>
</ul>
<h4 id="4-批次管理-Batch"><a href="#4-批次管理-Batch" class="headerlink" title="4.  批次管理  Batch"></a>4.  批次管理  Batch</h4><ul>
<li>配方定义管理</li>
</ul>
<h4 id="5-工作流-Workflow"><a href="#5-工作流-Workflow" class="headerlink" title="5. 工作流 Workflow"></a>5. 工作流 Workflow</h4><ul>
<li>事件触发工作流程</li>
<li>SOP 标准化工作流程</li>
<li>整合不同的系统</li>
</ul>
<h4 id="6-移动巡检作业-IntelaTrac"><a href="#6-移动巡检作业-IntelaTrac" class="headerlink" title="6. 移动巡检作业 IntelaTrac"></a>6. 移动巡检作业 IntelaTrac</h4><ul>
<li>管理非智能设备</li>
<li>现场作业</li>
<li>与资产管理对接</li>
</ul>
<h4 id="7-资产管理-Avantis"><a href="#7-资产管理-Avantis" class="headerlink" title="7. 资产管理 Avantis"></a>7. 资产管理 Avantis</h4><p>自动触发，维护工单</p>
<h4 id="8-历史数据库-Historian-DB"><a href="#8-历史数据库-Historian-DB" class="headerlink" title="8. 历史数据库 Historian DB"></a>8. 历史数据库 Historian DB</h4><div align="center">


<p><img src="_v_images/2019-11-29-17-05-06.png"></p>
</div>


<h4 id="9-Data采集"><a href="#9-Data采集" class="headerlink" title="9. Data采集"></a>9. Data采集</h4><p>广泛的数据连接性</p>
<p>设备的数据如何采集上来的？</p>
<div align="center">

<p><img src="_v_images/2019-11-29-17-05-26.png"></p>
</div>


<h4 id="10-运营绩效分析-Intelligence"><a href="#10-运营绩效分析-Intelligence" class="headerlink" title="10. 运营绩效分析 Intelligence"></a>10. 运营绩效分析 Intelligence</h4><p>各种各样的数据<br>集成开发环境</p>
<h4 id="11-Enterprise-Integration"><a href="#11-Enterprise-Integration" class="headerlink" title="11. Enterprise Integration"></a>11. Enterprise Integration</h4><ul>
<li>预定义映射</li>
<li>交换订单、物料、工艺</li>
<li>集成ERP、MES</li>
<li>支持多种Data交换格式</li>
</ul>
<p><strong>两化融合</strong>：自动化+信息化</p>
<h3 id="InTouch-HMI"><a href="#InTouch-HMI" class="headerlink" title="InTouch (HMI)"></a>InTouch (HMI)</h3><p>构建与WW-SP之上。</p>
<p>基于面向对象设计，所以设备都是对象，有对象定义，有对象实例。</p>
<p>支持IDE来定义模板（定义对象），实例化对象（设备）。（替代方案：使用脚本？）</p>
<p><strong>Situational Awareness</strong>： 情景感知，扁平、简明、动画元素、高性能。WW新的HMI设计源于这本树《The High Performance HMI HandBook》的理念。</p>
<p><img src="_v_images/2019-11-29-17-05-51.png"></p>
<p><img src="_v_images/2019-11-29-17-06-02.png"></p>
<p><img src="_v_images/2019-11-29-17-06-11.png"></p>
<p><img src="_v_images/2019-11-29-17-06-21.png"></p>
<p><img src="_v_images/2019-11-29-17-06-27.png"></p>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><h3 id="案例1：蓝鸟市政水"><a href="#案例1：蓝鸟市政水" class="headerlink" title="案例1：蓝鸟市政水"></a>案例1：蓝鸟市政水</h3><h4 id="业务介绍"><a href="#业务介绍" class="headerlink" title="业务介绍"></a>业务介绍</h4><p><img src="_v_images/2019-11-29-17-06-41.png"></p>
<h4 id="组织架构"><a href="#组织架构" class="headerlink" title="组织架构"></a>组织架构</h4><p><img src="_v_images/2019-11-29-17-06-51.png"></p>
<h4 id="企业主要智能"><a href="#企业主要智能" class="headerlink" title="企业主要智能"></a>企业主要智能</h4><p><img src="_v_images/2019-11-29-17-06-58.png"></p>
<h4 id="系统框架"><a href="#系统框架" class="headerlink" title="系统框架"></a>系统框架</h4><p><img src="_v_images/2019-11-29-17-07-05.png"></p>
<h4 id="水务支持系统"><a href="#水务支持系统" class="headerlink" title="水务支持系统"></a>水务支持系统</h4><p><img src="_v_images/2019-11-29-17-07-12.png"></p>
<h3 id="案例2：能源管理系统解决方案"><a href="#案例2：能源管理系统解决方案" class="headerlink" title="案例2：能源管理系统解决方案"></a>案例2：能源管理系统解决方案</h3><h4 id="What？它是什么？"><a href="#What？它是什么？" class="headerlink" title="What？它是什么？"></a>What？它是什么？</h4><p>自动化+信息化<br>动态监控+数字化管理</p>
<p><img src="_v_images/2019-11-29-17-07-21.png"></p>
<h4 id="Goal，系统目标"><a href="#Goal，系统目标" class="headerlink" title="Goal，系统目标"></a>Goal，系统目标</h4><p><img src="_v_images/2019-11-29-17-07-27.png"></p>
<h4 id="How，-如何实现"><a href="#How，-如何实现" class="headerlink" title="How， 如何实现"></a>How， 如何实现</h4><p>1）数据有效捕获<br>2）建立能源管理规程<br>3）PDCA持续改进方法论<br>4）软硬件支持</p>
<p>** PDCA方法论 **</p>
<p><img src="_v_images/2019-11-29-17-07-41.png"></p>
<h4 id="企业信息化架构"><a href="#企业信息化架构" class="headerlink" title="企业信息化架构"></a>企业信息化架构</h4><p><img src="_v_images/2019-11-29-17-07-49.png"></p>
<h4 id="能源管理软件架构"><a href="#能源管理软件架构" class="headerlink" title="能源管理软件架构"></a>能源管理软件架构</h4><p><img src="_v_images/2019-11-29-17-08-00.png"></p>
<h4 id="影响能耗成本的因素"><a href="#影响能耗成本的因素" class="headerlink" title="影响能耗成本的因素"></a>影响能耗成本的因素</h4><p><img src="_v_images/2019-11-29-17-08-06.png"></p>
<h4 id="系统功能"><a href="#系统功能" class="headerlink" title="系统功能"></a>系统功能</h4><p><img src="_v_images/2019-11-29-17-08-20.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/WonderWare/" data-id="ckqg285u1002ircfpea1xb1zj" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/Vue学习记录" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/Vue%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.819Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h1><h2 id="CentOS7-安装-node"><a href="#CentOS7-安装-node" class="headerlink" title="CentOS7 安装 node"></a>CentOS7 安装 node</h2><p>参考：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d4a78b27fe83">https://www.jianshu.com/p/d4a78b27fe83</a></p>
<ul>
<li><p>下载<br><code>wget https://nodejs.org/dist/latest-v13.x/node-v13.14.0-linux-x64.tar.xz</code></p>
</li>
<li><p>解压</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> xz -d node-v13.14.0-linux-x64.tar.xz</span></span><br><span class="line">得到 一个包 node-v13.14.0-linux-x64.tar</span><br><span class="line"><span class="meta">#</span><span class="bash"> tar -xvf node-v13.14.0-linux-x64.tar</span></span><br><span class="line">得到一个目录 node-v13.14.0-linux-x64</span><br></pre></td></tr></table></figure>

<ul>
<li>做软链<br>ln -s /opt/devel/node/bin/node /usr/bin/node<br>ln -s /opt/devel/node/bin/npm /usr/bin/npm<br>ln -s /opt/devel/node/bin/npx /usr/bin/npx</li>
</ul>
<h2 id="npm-使用"><a href="#npm-使用" class="headerlink" title="npm 使用"></a>npm 使用</h2><h3 id="加速-npm"><a href="#加速-npm" class="headerlink" title="加速 npm"></a>加速 npm</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org --global</span><br><span class="line">npm config set disturl https://npm.taobao.org/dist --global</span><br></pre></td></tr></table></figure>

<ul>
<li><p>下载 node v10.23 安装</p>
</li>
<li><p>升级 npm： <code>npm install npm -g</code></p>
</li>
<li><p>安装 cnpm：<code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></p>
</li>
<li><p>安装 VS 编译工具： <code>npm i -g windows-build-tools</code><br>i 表示 install<br>-g 表示 global 全局</p>
</li>
<li><p>安装 node-gyp： <code>npm install -g node-gyp</code><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wangyuxue/p/11218113.html">安装 node-gyp</a></p>
</li>
</ul>
<h2 id="VSCode-开发环境"><a href="#VSCode-开发环境" class="headerlink" title="VSCode 开发环境"></a>VSCode 开发环境</h2><h3 id="集成-Cmder-终端"><a href="#集成-Cmder-终端" class="headerlink" title="集成 Cmder 终端"></a>集成 Cmder 终端</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;terminal.integrated.shell.windows&quot;: &quot;cmd.exe&quot;,</span><br><span class="line">&quot;terminal.integrated.shellArgs.windows&quot;: [</span><br><span class="line">    &quot;/k D:\\Dev\\cmder\\vendor\\init.bat&quot;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>此模式下不支持 TS 自动编译，不建议使用。</p>
<h3 id="TypeScript-安装"><a href="#TypeScript-安装" class="headerlink" title="TypeScript 安装"></a>TypeScript 安装</h3><ul>
<li><code>npm install -g typescript</code> 全局安装</li>
<li><code>tsc -v</code> 查看安装版本</li>
</ul>
<h3 id="TS-自动编译"><a href="#TS-自动编译" class="headerlink" title="TS 自动编译"></a>TS 自动编译</h3><ul>
<li><code>tsc --init </code> 生成 <code>tsconfig.json</code> 文件</li>
<li>修改 <code>tsconfig.json</code> 文件中的<code>outDir</code> 和 <code>rootDir</code></li>
<li>设置编译监控： 按 <code>Ctrl + Shift + B</code>，选择 <code>tsc watch</code> 是自动监听，下次保存文件就自动编译。<code>tsc build</code> 是编译一次。</li>
</ul>
<h2 id="pm2"><a href="#pm2" class="headerlink" title="pm2"></a>pm2</h2><p>PM2 是 node 进程管理工具，可以利用它来简化很多 node 应用管理的繁琐任务，如性能监控、自动重启、负载均衡等，而且使用非常简单。</p>
<p>安装： <code>npm install -g pm2</code><br>express 应用来举例。<br>通过<code>npm start</code>启动应用，其实就是调用<code>node ./bin/www</code><br><code>pm2 start ./bin/www --watch</code> 这里用了–watch 参数，意味着当你的 express 应用代码发生变化时，pm2 会帮你重启服务，多贴心。</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chyingp/p/pm2-documentation.html">PM2 实用入门指南</a></p>
<h1 id="Vue-知识"><a href="#Vue-知识" class="headerlink" title="Vue 知识"></a>Vue 知识</h1><h2 id="ref、reactive、toRef、toRefs-的区别"><a href="#ref、reactive、toRef、toRefs-的区别" class="headerlink" title="ref、reactive、toRef、toRefs 的区别"></a>ref、reactive、toRef、toRefs 的区别</h2><ul>
<li><p>vue3 reactive 函数<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/ba1169fa2c97">https://www.jianshu.com/p/ba1169fa2c97</a></p>
<ul>
<li>reactive 的用法与 ref 的用法相似，也是将数据变成响应式数据，当数据发生变化时 UI 也会自动更新。不同的是 ref 用于基本数据类型，而 reactive 是用于复杂数据类型，比如对象和数组。</li>
</ul>
</li>
<li><p>vue3 toRef 函数和 toRefs 函数<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0c6ad50a9055">https://www.jianshu.com/p/0c6ad50a9055</a></p>
<ul>
<li>ref 本质是拷贝，修改响应式数据不会影响原始数据；toRef 的本质是引用关系，修改响应式数据会影响原始数据。</li>
<li>ref 数据发生改变，界面会自动更新；toRef 当数据发生改变是，界面不会自动更新。</li>
<li>toRef 传参与 ref 不同；toRef 接收两个参数，第一个参数是哪个对象，第二个参数是对象的哪个属性。</li>
<li>toRefs 接收一个对象作为参数，它会遍历对象身上的所有属性，然后挨个调用 toRef 执行。</li>
</ul>
</li>
</ul>
<h1 id="no-bin-links"><a href="#no-bin-links" class="headerlink" title="no-bin-links"></a>no-bin-links</h1><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1440562">https://cloud.tencent.com/developer/article/1440562</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/36223413">https://zhuanlan.zhihu.com/p/36223413</a></p>
<p><code>npm install --no-bin-links</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm ERR! nospc ENOTSUP: operation not supported on socket, symlink &#x27;../acorn/bin/acorn&#x27; -&gt; &#x27;/home/baoguoxiao/windows/food/node_modules/.bin/acorn&#x27;</span><br><span class="line">npm ERR! nospc This is most likely not a problem with npm itself</span><br><span class="line">npm ERR! nospc and is related to insufficient space on your system.</span><br></pre></td></tr></table></figure>

<h1 id="webpack-command-not-found-的解决方法"><a href="#webpack-command-not-found-的解决方法" class="headerlink" title="webpack command not found 的解决方法"></a>webpack command not found 的解决方法</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38111015/article/details/79013475">webpack command not found 的解决方法</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack -g</span><br><span class="line">npm install -D webpack-cli -no-bin-links</span><br></pre></td></tr></table></figure>

<h1 id="通过-ps、grep-和-kill-批量杀死进程"><a href="#通过-ps、grep-和-kill-批量杀死进程" class="headerlink" title="通过 ps、grep 和 kill 批量杀死进程"></a>通过 ps、grep 和 kill 批量杀死进程</h1><p><code>ps aux|grep qemu|awk &#39;&#123;print $2&#125;&#39;|xargs kill -9</code></p>
<h1 id="npm-run-dev-错误"><a href="#npm-run-dev-错误" class="headerlink" title="npm run dev 错误"></a>npm run dev 错误</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">script&#123;</span><br><span class="line"><span class="string">&quot;dev&quot;</span>: <span class="string">&quot;export NODE_ENV=development; webpack --watch --config webpack.config.js --mode development &amp; ./bin/www&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>要成功运行<code>npm run dev</code>，需要安装 webpack, webpack-cli, node-gyp, node-gyp-build；并链接到/usr/local/bin/目录下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm install -g webpack</span><br><span class="line">npm install -g webpack-cli</span><br><span class="line"><span class="meta">#</span><span class="bash"> 用来编译多语言支持</span></span><br><span class="line">npm install -g node-gyp</span><br><span class="line">npm install -g node-gyp-build</span><br><span class="line">sudo ln -s /opt/node10/bin/webpack* /usr/local/bin/</span><br><span class="line">sudo ln -s /opt/node10/bin/node-gyp* /usr/local/bin/</span><br></pre></td></tr></table></figure>

<h1 id="express"><a href="#express" class="headerlink" title="express"></a>express</h1><ul>
<li><code>morgan</code>是 express 默认的日志中间件，也可以脱离 express，作为 node.js 的日志组件单独使用。<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chyingp/p/node-learning-guide-express-morgan.html">https://www.cnblogs.com/chyingp/p/node-learning-guide-express-morgan.html</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用app.use(logger(&#x27;dev&#x27;))可以将请求信息打印在控制台</span></span><br><span class="line">app.use(logger(<span class="string">&quot;dev&quot;</span>));</span><br><span class="line"><span class="comment">// morgan支持stream配置项，可以通过它来实现将日志落地的效果</span></span><br><span class="line"><span class="comment">// 日志写入文件</span></span><br><span class="line"><span class="keyword">var</span> accessLogStream = fs.createWriteStream(path.join(__dirname, <span class="string">&quot;access.log&quot;</span>), &#123;</span><br><span class="line">  <span class="attr">flags</span>: <span class="string">&quot;a&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line">app.use(morgan(<span class="string">&quot;short&quot;</span>, &#123; <span class="attr">stream</span>: accessLogStream &#125;));</span><br></pre></td></tr></table></figure>

<ul>
<li><code>body-parser</code>作用是对 post 请求的请求体进行解析。<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chyingp/p/nodejs-learning-express-body-parser.html">https://www.cnblogs.com/chyingp/p/nodejs-learning-express-body-parser.html</a></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app.use(bodyParser.json());</span><br><span class="line">app.use(bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</span><br></pre></td></tr></table></figure>

<p><code>body-parser</code> 实现的要点如下： - 处理不同类型的请求体：比如 text、json、urlencoded 等，对应的报文主体的格式  不同。 - 处理不同的编码：比如 utf8、gbk 等。 - 处理不同的压缩类型：比如 gzip、deflare 等。 - 其他边界、异常的处理。</p>
<ul>
<li><code>cookie-parser</code>是 Express 的中间件，用来实现 cookie 的解析<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chyingp/p/express-cookie-parser-deep-in.html">https://www.cnblogs.com/chyingp/p/express-cookie-parser-deep-in.html</a></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> cookieParser = <span class="built_in">require</span>(<span class="string">&quot;cookie-parser&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line">app.use(cookieParser());</span><br><span class="line"></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(req.cookies.nick); <span class="comment">// 第二次访问，输出chyingp</span></span><br><span class="line">  next();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  res.cookie(<span class="string">&quot;nick&quot;</span>, <span class="string">&quot;chyingp&quot;</span>);</span><br><span class="line">  res.end(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><p>版本&gt;v4，需要安装<code>webpack-cli</code>。</p>
<p>一般和自定义的<code>webpack.config.js</code>文件一起使用。例如，将<code>src/index.js</code>及其引用文件打包到<code>dist/bundle.js</code>文件中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/index.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="nodemon"><a href="#nodemon" class="headerlink" title="nodemon"></a>nodemon</h1><p>nodemon 用来监视 node.js 应用程序中的任何更改并自动重启服务,非常适合用在开发环境中。</p>
<p>nodemon 不需要对代码或开发方式进行任何更改。 nodemon 只是简单的包装你的 node 应用程序，并监控任何已经改变的文件。nodemon 只是 node 的替换包，只是在运行脚本时将其替换命令行上的 node。</p>
<h1 id="npm-ERR-code-ELIFECYCLE"><a href="#npm-ERR-code-ELIFECYCLE" class="headerlink" title="npm ERR! code ELIFECYCLE"></a>npm ERR! code ELIFECYCLE</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean --force</span><br><span class="line"><span class="keyword">delete</span> node_modules folder</span><br><span class="line"><span class="keyword">delete</span> package-lock.json file</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<h1 id="安装-vue-支持"><a href="#安装-vue-支持" class="headerlink" title="安装 vue 支持"></a>安装 vue 支持</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-cli -g</span><br><span class="line"><span class="comment"># cross-env 是用来接近linux、windows环境变量设置不一致的问题。</span></span><br><span class="line"><span class="comment"># cross-env NODE_ENV=production webpack --config webpack.config.js --mode production</span></span><br><span class="line"><span class="comment"># cross-env NODE_ENV=production 在linux、windows都能认识</span></span><br><span class="line">npm install -g cross-env</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="解决-npm-安装速度慢的方法"><a href="#解决-npm-安装速度慢的方法" class="headerlink" title="解决 npm 安装速度慢的方法"></a>解决 npm 安装速度慢的方法</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">onfig <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line">npm config <span class="built_in">set</span> sass_binary_site https://npm.taobao.org/mirrors/node-sass</span><br><span class="line">npm config <span class="built_in">set</span> phantomjs_cdnurl https://npm.taobao.org/mirrors/phantomjs</span><br><span class="line">npm config <span class="built_in">set</span> electron_mirror https://npm.taobao.org/mirrors/electron</span><br><span class="line">npm config <span class="built_in">set</span> sqlite3_binary_host_mirror https://npm.taobao.org/mirrors/sqlite3</span><br><span class="line">npm config <span class="built_in">set</span> profiler_binary_host_mirror https://npm.taobao.org/mirrors/node-inspector</span><br><span class="line">npm config <span class="built_in">set</span> chromedriver_cdnurl https://npm.taobao.org/mirrors/chromedriver</span><br></pre></td></tr></table></figure>

<p>make 提示：g++命令未找到：<code>yum install gcc-c++</code></p>
<h1 id="style-loader-与-vue-style-loader-区别"><a href="#style-loader-与-vue-style-loader-区别" class="headerlink" title="style-loader 与 vue-style-loader 区别"></a>style-loader 与 vue-style-loader 区别</h1><p><code>vue-style-loader</code>跟 <code>style-loader</code> 基本用法跟功能是一样的，都是往 dom 里面插入一个 style 标签去让样式生效的，但是 <code>vue-style-loader</code> 支持 vue 中的 ssr（服务端渲染），所以如果需要支持服务端渲染的 vue 项目，就需要用到 <code>vue-style-loader</code> 了，如果一般的 vue 项目的话，推荐使用 <code>style-loader</code>，毕竟 <code>style-loader</code> 支持的功能还是丰富些，比如可以懒注入、可以指定位置插入标签等等。</p>
<h1 id="vue-resource"><a href="#vue-resource" class="headerlink" title="vue-resource"></a>vue-resource</h1><p>vue-resource 是 Vue.js 的一款插件，它可以通过 XMLHttpRequest 或 JSONP 发起请求并处理响应。也就是说，$.ajax 能做的事情，vue-resource 插件一样也能做到，而且 vue-resource 的 API 更为简洁。另外，vue-resource 还提供了非常有用的 inteceptor 功能，使用 inteceptor 可以在请求前和请求后附加一些行为，比如使用 inteceptor 在 ajax 请求时显示 loading 界面。</p>
<ul>
<li>get 请求</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> params = &#123; <span class="attr">params</span>: &#123; <span class="attr">id</span>: id &#125; &#125;;</span><br><span class="line"><span class="built_in">this</span>.$http.get(url, params).then(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 响应成功回调</span></span><br><span class="line">    <span class="keyword">var</span> data = res.body;</span><br><span class="line">    <span class="comment">//数据在res.body里面</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 响应错误回调</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li>post 请求</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//启用&#123;emulateJSON : true&#125;选项后，请求会以application/x-www-form-urlencoded作为content-type,像HTML表单一样。</span></span><br><span class="line"><span class="keyword">var</span> params = &#123; <span class="attr">params</span>: &#123; <span class="attr">id</span>: id &#125; &#125;;</span><br><span class="line"><span class="built_in">this</span>.$http.post(url, params, &#123; <span class="attr">emulateJSON</span>: <span class="literal">true</span> &#125;).then(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 响应成功回调</span></span><br><span class="line">    <span class="keyword">var</span> data = res.body;</span><br><span class="line">    <span class="comment">//数据在res.body里面</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 响应错误回调</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li>JSONP 请求</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> JSONparams =&#123;</span><br><span class="line">    <span class="attr">params</span>: &#123;<span class="attr">id</span>: id&#125;</span><br><span class="line">    <span class="attr">jsonp</span>: <span class="string">&#x27;callback&#x27;</span> <span class="comment">// 设置回调函数的参数的一个名字，默认是话是callback,</span></span><br><span class="line">&#125;</span><br><span class="line"> <span class="built_in">this</span>.$http.jsonp(url, JSONparams).then( <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/Vue%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" data-id="ckqg285u1002hrcfphwcl01ii" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/Unicode解析" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/Unicode%E8%A7%A3%E6%9E%90/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.817Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h3><p>UTF-8 使用一至四个 字节 为每个字符编码：<br>128 个 US-ASCII 字符只需一个字节编码（Unicode 范围由 U+0000 至 U+007F）。<br>带有 附加符号 的 拉丁文 、 希腊文 、 西里尔字母 、 亚美尼亚语 、 希伯来文 、 阿拉伯文 、 叙利亚文 及 它拿字母 则需要二个字节编码（Unicode 范围由 U+0080 至 U+07FF）。<br>其他 基本多文种平面 （BMP）中的字符（这包含了大部分常用字）使用三个字节编码。<br>其他极少使用的 Unicode 辅助平面 的字符使用四字节编码。</p>
<p>对上述提及的第四种字符而言，UTF-8 使用四个字节来编码似乎太耗费资源了。但 UTF-8 对所有常用的字符都可以用三个字节表示，而且它的另一种选择， UTF-16编码 ，对前述的第四种字符同样需要四个字节来编码，所以要决定 UTF-8 或 UTF-16 哪种编码比较有效率，还要视所使用的字符的分布范围而定。</p>
<h3 id="UTF-16"><a href="#UTF-16" class="headerlink" title="UTF-16"></a>UTF-16</h3><p>在基本多语言 平面内定义的符号（（Basic Multilingual Plane, BMP），或称第零平面（Plane 0）），使用2 个字节表示，在此之外的字符(其他平面内的字符)，则使用4个字节表示。</p>
<p>其编码方法是：</p>
<p>1 如果字符编码 U 小于 0x10000, 也就是十进制的 0 到 65535 之内，则直接使用两字节表示；</p>
<p>2 如果字符编码 U 大于 0x10000, 由于 UNICODE 编码范围最大为 0x10FFFF, 从 0x10000 到 0x10FFFF 之间 共有 0xFFFFF 个编码，也就是需要 20 个bit 就可以标示这些编码. 用 U’ 表示从 0-0xFFFFF 之间的值，将其前 10 bit 作为低位和16 bit 的数值 0XD800 进行或操作，将后 10 bit 作为低位和 0XDC 做或操作，这样组成的 4 个 byte 就构成了 U 的编码。</p>
<p>16进制编码范围 UTF-16 表示方法(二进制) 10进制码范围 字节数量<br>0000 0000—0000 FFFF xxxxxxxx xxxxxxxx 0-65535 2<br>0001 0000—0010 FFFF 110110yyyyyyyyyy 110111xxxxxxxxxx 65536-1114111 4</p>
<p>UTF-16比起 UTF-8 ，好处在于大部分字符都以固定长度的字节（2字节）储存，但UTF-16却无法相容于 ASCII 编码。</p>
<p>当存储纯中文文本时，用UTF-16编码的文件比用UTF-8编码要小 </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/Unicode%E8%A7%A3%E6%9E%90/" data-id="ckqg285u0002grcfp8tvzgx80" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/UI框架" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/UI%E6%A1%86%E6%9E%B6/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.816Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="EasyUI"><a href="#EasyUI" class="headerlink" title="EasyUI"></a>EasyUI</h2><h2 id="Element-Github-12K-star"><a href="#Element-Github-12K-star" class="headerlink" title="Element ( Github: 12K star )"></a>Element ( Github: 12K star )</h2><p>一套为开发者、设计师和产品经理准备的基于 Vue 2.0 的组件库，提供了配套设计资源，帮助你的网站快速成型。由饿了么公司前端团队开源。</p>
<p><a target="_blank" rel="noopener" href="http://element.eleme.io/#/zh-CN">http://element.eleme.io/#/zh-CN</a><br><a target="_blank" rel="noopener" href="https://github.com/ElemeFE/element">https://github.com/ElemeFE/element</a></p>
<h2 id="layui-Github-4-5K-star"><a href="#layui-Github-4-5K-star" class="headerlink" title="layui  ( Github: 4.5K star )"></a>layui  ( Github: 4.5K star )</h2><p>由职业前端倾情打造，面向所有层次的前后端程序猿，业界最容易使用的前端UI解决方案</p>
<p><a target="_blank" rel="noopener" href="https://www.layui.com/">https://www.layui.com/</a><br><a target="_blank" rel="noopener" href="https://github.com/sentsin/layui/">https://github.com/sentsin/layui/</a></p>
<p>和easyui相似</p>
<h2 id="Muse-UI-Github-2-5K-star"><a href="#Muse-UI-Github-2-5K-star" class="headerlink" title="Muse-UI  ( Github: 2.5K star )"></a>Muse-UI  ( Github: 2.5K star )</h2><p>基于 Vue 2.0 和 Material Design 的 UI 组件库</p>
<p><a target="_blank" rel="noopener" href="http://www.muse-ui.org/">http://www.muse-ui.org/</a><br><a target="_blank" rel="noopener" href="https://github.com/museui/muse-ui">https://github.com/museui/muse-ui</a></p>
<p>很时尚</p>
<h2 id="QMUI-Web-Github-0-8K-star"><a href="#QMUI-Web-Github-0-8K-star" class="headerlink" title="QMUI Web  ( Github: 0.8K star )"></a>QMUI Web  ( Github: 0.8K star )</h2><p>官网：<a target="_blank" rel="noopener" href="http://qmuiteam.com/web">http://qmuiteam.com/web</a><br>Github: <a target="_blank" rel="noopener" href="https://github.com/QMUI/qmui_web">https://github.com/QMUI/qmui_web</a></p>
<p>QMUI Web 是一个专注 Web UI 开发，帮助开发者快速实现特定的一整套设计的框架。 框架主要由一个强大的 Sass 方法合集与内置的工作流构成。通过 QMUI Web，开发者可以很轻松地提高 Web UI 开发的效率，同时保持了项目的高可维护性与稳健。<br>如果你需要方便地控制项目的整体样式，或者需要应对频繁的界面变动， 那么 QMUI Web 框架将会是你最好的解决方案。</p>
<h2 id="b-jui"><a href="#b-jui" class="headerlink" title="b-jui"></a>b-jui</h2><p>B-JUI客户端框架(Best jQuery UI)，是基于Bootstrap样式及jQuery库实现的Ajax RIA开源框架。</p>
<p><a target="_blank" rel="noopener" href="http://www.b-jui.com/">http://www.b-jui.com/</a></p>
<h2 id="VUX-Github-7-5K-star"><a href="#VUX-Github-7-5K-star" class="headerlink" title="VUX  ( Github: 7.5K star )"></a>VUX  ( Github: 7.5K star )</h2><p>Vux（读音 [v’ju:z]，同views）是基于 WeUI 和 Vue(2.x) 开发的移动端UI组件库，主要服务于微信页面。 </p>
<p>基于webpack+vue-loader+vux可以快速开发移动端页面，配合vux-loader方便你在WeUI的基础上定制需要的样式。 </p>
<p><a target="_blank" rel="noopener" href="https://github.com/airyland/vux">https://github.com/airyland/vux</a></p>
<h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><h3 id="基于Bootstrap的UI-Framework"><a href="#基于Bootstrap的UI-Framework" class="headerlink" title="基于Bootstrap的UI Framework"></a>基于Bootstrap的UI Framework</h3><ol>
<li><a target="_blank" rel="noopener" href="http://bootflat.github.io/">Bootflat</a></li>
<li><a target="_blank" rel="noopener" href="http://bootswatch.com/">Bootswatch</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/designmodo/Flat-UI">Flat-UI</a>  收费</li>
<li><a target="_blank" rel="noopener" href="http://www.telerik.com/kendo-ui">Kendo UI</a>, 收费，专业，部分Web免费：<a target="_blank" rel="noopener" href="https://github.com/telerik/kendo-ui-core">Github  kendo-ui-core </a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/jquery-ui-bootstrap/jquery-ui-bootstrap">jQuery UI Bootstrap</a>, 断更？</li>
<li><a target="_blank" rel="noopener" href="https://github.com/aozora/bootmetro"> BootMetro </a> ， win8风格， 断更？</li>
</ol>
<h3 id="2014年最受欢迎WEB前端UI框架"><a href="#2014年最受欢迎WEB前端UI框架" class="headerlink" title="2014年最受欢迎WEB前端UI框架"></a>2014年最受欢迎WEB前端UI框架</h3><p>参考： <a target="_blank" rel="noopener" href="http://www.58img.com/framework/1390">http://www.58img.com/framework/1390</a></p>
<ol>
<li><a target="_blank" rel="noopener" href="http://getbootstrap.com/">Bootstrap</a>  , <a target="_blank" rel="noopener" href="http://www.bootcss.com/">Bootstrap中文网</a></li>
<li><a target="_blank" rel="noopener" href="http://foundation.zurb.com/">Foundation</a></li>
<li><a target="_blank" rel="noopener" href="http://semantic-ui.com/">Semantic UI</a></li>
<li><a target="_blank" rel="noopener" href="http://purecss.io/">Pure</a></li>
</ol>
<h3 id="React-资料"><a href="#React-资料" class="headerlink" title="React 资料"></a>React 资料</h3><p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2015/03/react.html">React 入门实例教程</a><br><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2015/02/future-of-dom.html"> 也许，DOM 不是答案 </a><br><a target="_blank" rel="noopener" href="http://react-china.org/t/wo-shi-zhe-yang-kan-dai-react-de/28"> 我是这样看待 React 的 </a></p>
<h3 id="Web-Components-组件化"><a href="#Web-Components-组件化" class="headerlink" title="Web Components 组件化"></a>Web Components 组件化</h3><p><a target="_blank" rel="noopener" href="http://react-bootstrap.github.io/">React-Bootstrap</a></p>
<p><a target="_blank" rel="noopener" href="https://css-tricks.com/modular-future-web-components/">A Guide to Web Components</a><br><a target="_blank" rel="noopener" href="https://github.com/xufei/blog/issues/19">2015前端组件化框架之路</a><br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/sskyy/p/4264371.html">2015前端框架何去何从</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/UI%E6%A1%86%E6%9E%B6/" data-id="ckqg285u0002frcfpgw7xf2ee" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/Tomcat配置" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/Tomcat%E9%85%8D%E7%BD%AE/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.815Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="最大并发会话连接数设置"><a href="#最大并发会话连接数设置" class="headerlink" title="最大并发会话连接数设置"></a>最大并发会话连接数设置</h2><p><a target="_blank" rel="noopener" href="http://www.importnew.com/27309.html">详解 Tomcat 的连接数与线程池</a></p>
<p>Connector中的几个参数功能如下：</p>
<h3 id="1、acceptCount"><a href="#1、acceptCount" class="headerlink" title="1、acceptCount"></a>1、acceptCount</h3><p>accept队列的长度；当accept队列中连接的个数达到acceptCount时，队列满，进来的请求一律被拒绝。默认值是100。</p>
<h3 id="2、maxConnections"><a href="#2、maxConnections" class="headerlink" title="2、maxConnections"></a>2、maxConnections</h3><p>Tomcat在任意时刻接收和处理的最大连接数。当Tomcat接收的连接数达到maxConnections时，Acceptor线程不会读取accept队列中的连接；这时accept队列中的线程会一直阻塞着，直到Tomcat接收的连接数小于maxConnections。如果设置为-1，则连接数不受限制。</p>
<p>默认值与连接器使用的协议有关：NIO的默认值是10000，APR/native的默认值是8192，而BIO的默认值为maxThreads（如果配置了Executor，则默认值是Executor的maxThreads）。</p>
<p>在windows下，APR/native的maxConnections值会自动调整为设置值以下最大的1024的整数倍；如设置为2000，则最大值实际是1024。</p>
<h3 id="3、maxThreads"><a href="#3、maxThreads" class="headerlink" title="3、maxThreads"></a>3、maxThreads</h3><p>请求处理线程的最大数量。默认值是200（Tomcat7和8都是的）。如果该Connector绑定了Executor，这个值会被忽略，因为该Connector将使用绑定的Executor，而不是内置的线程池来执行任务。</p>
<p>maxThreads规定的是最大的线程数目，并不是实际running的CPU数量；实际上，maxThreads的大小比CPU核心数量要大得多。这是因为，处理请求的线程真正用于计算的时间可能很少，大多数时间可能在阻塞，如等待数据库返回数据、等待硬盘读写数据等。因此，在某一时刻，只有少数的线程真正的在使用物理CPU，大多数线程都在等待；因此线程数远大于物理核心数才是合理的。</p>
<p>换句话说，Tomcat通过使用比CPU核心数量多得多的线程数，可以使CPU忙碌起来，大大提高CPU的利用率。</p>
<h3 id="4、参数设置"><a href="#4、参数设置" class="headerlink" title="4、参数设置"></a>4、参数设置</h3><p>（1）maxThreads的设置既与应用的特点有关，也与服务器的CPU核心数量有关。通过前面介绍可以知道，maxThreads数量应该远大于CPU核心数量；而且CPU核心数越大，maxThreads应该越大；应用中CPU越不密集（IO越密集），maxThreads应该越大，以便能够充分利用CPU。当然，maxThreads的值并不是越大越好，如果maxThreads过大，那么CPU会花费大量的时间用于线程的切换，整体效率会降低。</p>
<p>（2）maxConnections的设置与Tomcat的运行模式有关。如果tomcat使用的是BIO，那么maxConnections的值应该与maxThreads一致；如果tomcat使用的是NIO，那么类似于Tomcat的默认值，maxConnections值应该远大于maxThreads。</p>
<p>（3）通过前面的介绍可以知道，虽然tomcat同时可以处理的连接数目是maxConnections，但服务器中可以同时接收的连接数为maxConnections+acceptCount 。acceptCount的设置，与应用在连接过高情况下希望做出什么反应有关系。如果设置过大，后面进入的请求等待时间会很长；如果设置过小，后面进入的请求立马返回connection refused。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/Tomcat%E9%85%8D%E7%BD%AE/" data-id="ckqg285tz002ercfp2yr92ovd" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-architecture/SSO与反向代理" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/architecture/SSO%E4%B8%8E%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:10.812Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/architecture/SSO%E4%B8%8E%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/" data-id="ckqg285ty002brcfpf9pr0947" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/16/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/18/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/06/28/product/%E9%9C%80%E6%B1%82%E8%B0%83%E7%A0%94%E7%9A%84%E5%86%85%E5%AE%B9%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%8C%87%E5%BC%95/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/28/product/%E9%93%81%E8%B7%AF6C%E4%B8%9A%E5%8A%A1%E7%BB%93%E6%9E%84/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/28/product/%E9%9C%80%E6%B1%82%E8%B0%83%E7%A0%94%E5%8F%8A%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/28/product/%E6%B0%B4%E7%94%B5%E7%AB%99%E7%94%9F%E4%BA%A7%E8%BF%90%E8%A1%8C%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/28/product/%E6%B0%B4%E7%94%B5%E5%8E%82%E8%BF%90%E8%A1%8C%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>