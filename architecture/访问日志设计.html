<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<link rel="stylesheet" href="../theme/css/my.css" /><h2>访问日志的用途</h2>
<ul>
<li>记录用户的访问痕迹</li>
<li>统计用户常访问的页面</li>
<li>统计系统的高峰访问时段</li>
<li>统计系统最常被用到的功能（可以针对这些功能做优化）</li>
</ul>
<h2>实现方案</h2>
<ul>
<li>
<p>基于RMDB实现</p>
<ul>
<li>
<p>每一条点击日志都记入RMDB，价值不大；</p>
</li>
<li>
<p>日志写入频繁，RMDB写入性能不高，容易拖累业务系统；</p>
</li>
<li>
<p>计算点击总次数，影响业务系统性能；</p>
</li>
<li>
<p>点击次数统计准确，实时性好。</p>
</li>
</ul>
</li>
<li>
<p>基于NoSQL（redis）实现</p>
<ul>
<li>
<p>NoSQL支持的数据结构简单，做复杂的统计困难。比如：针对某人做点击统计；</p>
</li>
<li>
<p>写入性能较好，不拖累业务系统。</p>
</li>
</ul>
</li>
<li>
<p>采用logback等记录点击日志，用异步程序分析日志文件，将分析结果写入RMDB</p>
<ul>
<li>
<p>在Linux下日志文件写入性能很高；</p>
</li>
<li>
<p>若分析要求不高，可以用shell或简单程序实现；</p>
</li>
<li>
<p>可以对接ELK（ Elasticsearch , Logstash, Kibana ），实现专业的日志分析。</p>
</li>
</ul>
</li>
<li>
<p>其它专业日志系统</p>
<ul>
<li>比如scribe,具备处理海量并发，海量数据的能力，但运维成本高。</li>
</ul>
</li>
</ul>
<h2>参考</h2>
<ul>
<li><a href="http://greenmoon.iteye.com/blog/1633411">电影url点击次数统计功能设计</a></li>
</ul>