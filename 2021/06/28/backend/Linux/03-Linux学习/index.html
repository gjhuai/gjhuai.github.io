<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="[TOC] 常用命令Linux 统计文件夹下文件个数及目录个数 统计文件夹下文件的个数ls -l | grep &quot;^-&quot; | wc -l  统计文件夹下目录的个数ls -l | grep &quot;^d&quot; | wc -l  统计文件夹下文件个数，包括子文件ls -lR | grep &quot;^-&quot; | wc -l  统计文件夹下目录个数，包括子目录ls">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2021/06/28/backend/Linux/03-Linux%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="[TOC] 常用命令Linux 统计文件夹下文件个数及目录个数 统计文件夹下文件的个数ls -l | grep &quot;^-&quot; | wc -l  统计文件夹下目录的个数ls -l | grep &quot;^d&quot; | wc -l  统计文件夹下文件个数，包括子文件ls -lR | grep &quot;^-&quot; | wc -l  统计文件夹下目录个数，包括子目录ls">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2021/06/28/backend/Linux/03-Linux%E5%AD%A6%E4%B9%A0/_v_images/2019-11-18-21-04-32.png">
<meta property="og:image" content="http://example.com/2021/06/28/backend/Linux/03-Linux%E5%AD%A6%E4%B9%A0/_v_images/2019-11-18-21-04-54.png">
<meta property="og:image" content="http://example.com/2021/06/28/backend/Linux/03-Linux%E5%AD%A6%E4%B9%A0/_v_images/2019-11-18-21-06-39.png">
<meta property="article:published_time" content="2021-06-28T03:26:11.072Z">
<meta property="article:modified_time" content="2021-06-24T12:32:22.551Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/06/28/backend/Linux/03-Linux%E5%AD%A6%E4%B9%A0/_v_images/2019-11-18-21-04-32.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-backend/Linux/03-Linux学习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/28/backend/Linux/03-Linux%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2021-06-28T03:26:11.072Z" itemprop="datePublished">2021-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><h3 id="Linux-统计文件夹下文件个数及目录个数"><a href="#Linux-统计文件夹下文件个数及目录个数" class="headerlink" title="Linux 统计文件夹下文件个数及目录个数"></a>Linux 统计文件夹下文件个数及目录个数</h3><ol>
<li><p>统计文件夹下文件的个数<br><code>ls -l | grep &quot;^-&quot; | wc -l</code></p>
</li>
<li><p>统计文件夹下目录的个数<br><code>ls -l | grep &quot;^d&quot; | wc -l</code></p>
</li>
<li><p>统计文件夹下文件个数，包括子文件<br><code>ls -lR | grep &quot;^-&quot; | wc -l</code></p>
</li>
<li><p>统计文件夹下目录个数，包括子目录<br><code>ls -lR | grep &quot;^d&quot; | wc -l</code></p>
</li>
</ol>
<p>wc命令： (Word Count)功能为统计指定文件中的字节数、字数、行数，并将统计结果显示输出。</p>
<p>wc [-lcw]</p>
<p>-c 统计字节数<br>-l 统计行数<br>-m 统计字符数，此标志不能与-c标志一起使用<br>-w 统计字数。一个字定义为由空白、跳格或换行字符分隔的字符串</p>
<h3 id="使用ps-awk杀死进程"><a href="#使用ps-awk杀死进程" class="headerlink" title="使用ps/awk杀死进程"></a>使用ps/awk杀死进程</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Grabs and <span class="built_in">kill</span> a process from the pidlist that has the word myapp</span></span><br><span class="line">​</span><br><span class="line">pid=`ps aux | grep myapp | awk &#x27;&#123;print $2&#125;&#x27;`</span><br><span class="line">kill -9 $pid</span><br></pre></td></tr></table></figure>

<h3 id="查看程序端口占用情况"><a href="#查看程序端口占用情况" class="headerlink" title="查看程序端口占用情况"></a>查看程序端口占用情况</h3><p>netstat   -anp   |   grep  portno<br>即：netstat –apn | grep 8080</p>
<p>其中最后一栏是 * PID/Program name *</p>
<h3 id="查看linux磁盘空间容量"><a href="#查看linux磁盘空间容量" class="headerlink" title="查看linux磁盘空间容量"></a>查看linux磁盘空间容量</h3><p>查看磁盘使用情况<br>df -lh</p>
<p>查看目录的磁盘占用情况<br>du -sh * | sort -h</p>
<p>crontab</p>
<p>Ubuntu查看crontab运行日志</p>
<p>修改rsyslog文件，将/etc/rsyslog.d/50-default.conf 文件中的#cron.*前的#删掉；<br>重启rsyslog服务service rsyslog restart；<br>重启cron服务service cron restart</p>
<h3 id="linux下ssh客户端以及sftp文件传送的一般用法"><a href="#linux下ssh客户端以及sftp文件传送的一般用法" class="headerlink" title="linux下ssh客户端以及sftp文件传送的一般用法"></a>linux下ssh客户端以及sftp文件传送的一般用法</h3><p>linux下ssh客户端以及sftp文件传送的一般用法</p>
<p>   以前在windows上，我要用ssh连接服务器，我一般都用putty。<br>    这段时间一直在linux上工作，由于linux上一般都自带ssh客户端，也就是ssh命令了，此外还有一个命令sftp，用来安全的传送文件，今天为了管理linux服务器，用到了linux下的这两个命令行工具，现就其最常用的用法描述如下：<br>    假定服务器ip为61.145.34.33，ssh服务的端口号为9186，服务器上有个用户为sshuser；<br>    用ssh登录服务器的命令为：<br>    &gt;ssh -l sshuser 61.145.34.33 -p 9186<br>    回车后，如果是第一次登录，会提示你一条认证信息，你键入yes即可，接着输入服务器sshuser的密码登录即可；</p>
<pre><code>用sftp登录服务器的命令为：
&gt;sftp -oPort=9186 sshuser@61.145.34.33
回车后，输入服务器sshuser的密码登录，然后会显示一个sftp&gt;的环境，这个时候，键入help你会看到所有命令的帮助，跟ftp命令行工具非常类似，比如get,put等等。

至于这两个命令行的其他用法，可参看其联机手册... 
</code></pre>
<h3 id="修改home下的中文目录为英文目录"><a href="#修改home下的中文目录为英文目录" class="headerlink" title="修改home下的中文目录为英文目录"></a>修改home下的中文目录为英文目录</h3><p>在终端下输入命令：<br>     export LANG=en_US<br>     xdg-user-dirs-gtk-update<br>这个时候会弹出一个配置界面，提示是否将中文目录切换为英文目录。选中不再提示，确定。系统会删除没有内容的中文目录，而有内容的目录会保持。并创建8个相应的英文目录如下：“Desktop”、“Download”、“Templates”、“Public”、“Documents”、“Music”、“Pictures”、“Videos”。此时，您在“位置”里看到的常用中文目录已经变成英文目录。只需要将原中文目录的内容拷贝到相应英文目录，并删除中文目录即可。<br>接下来再执行<br>     export LANG=zh_CN.UTF-8<br>以显示中文。</p>
<p>OK，行了，三个命令就行。可就为一次改变要记三个命令，也麻烦。能不能不记啦。当然可以，那您注销，然后在登录界面选择语言种类为“English(united states)”，进入系统后你就发现整个系统都变成English了，同时还会弹出一个对话框提示是否切换用户目录，选择“Update names”，确认并再注销，在登录界面选择“汉语”，进入系统后事个系统又变成了Chinese了，同样会弹出同一个对话框，选择”Keep old names”。OK，大功告成，一个命令都不需要记，就可完成您想要的结果。</p>
<h3 id="分区方案"><a href="#分区方案" class="headerlink" title="分区方案"></a>分区方案</h3><p>/boot    200M    Linux的内核及引导系统程序所需要的文件，比如 vmlinuz initrd.img文件都位于这个目录中。在一般情况下，GRUB或LILO系统引导管理器也位于这个目录；启动撞在文件存放位置，如kernels，initrd，grub。</p>
<p>/              100G    用于存储系统文件<br>/home    200G    用户工作目录；个人配置文件，如个人环境变量等；所有账号分配一个工作目录。<br>swap是内存的两倍</p>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">find . -name .gradle -exec rm -rf &#123;&#125; \;</span><br><span class="line"></span><br><span class="line">find . -type f -exec ls -l &#123;&#125; \;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="linux解压缩命令"><a href="#linux解压缩命令" class="headerlink" title="linux解压缩命令"></a>linux解压缩命令</h3><p>tar</p>
<p>-c: 建立压缩档案<br>-x：解压<br>-t：查看内容<br>-r：向压缩归档文件末尾追加文件<br>-u：更新原压缩包中的文件</p>
<p>这五个是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用但只能用其中一个。下面的参数是根据需要在压缩或解压档案时可选的。</p>
<p>-z：有gzip属性的<br>-j：有bz2属性的<br>-Z：有compress属性的<br>-v：显示所有过程<br>-O：将文件解开到标准输出</p>
<p>下面的参数-f是必须的</p>
<p>-f: 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。</p>
<p>压缩</p>
<p>tar –cvf jpg.tar *.jpg //将目录里所有jpg文件打包成tar.jpg</p>
<p>tar –czf jpg.tar.gz *.jpg   //将目录里所有jpg文件打包成jpg.tar后，并且将其用gzip压缩，生成一个gzip压缩过的包，命名为jpg.tar.gz</p>
<p>tar –cjf jpg.tar.bz2 *.jpg //将目录里所有jpg文件打包成jpg.tar后，并且将其用bzip2压缩，生成一个bzip2压缩过的包，命名为jpg.tar.bz2</p>
<p>tar –cZf jpg.tar.Z *.jpg   //将目录里所有jpg文件打包成jpg.tar后，并且将其用compress压缩，生成一个umcompress压缩过的包，命名为jpg.tar.Z</p>
<p>rar a jpg.rar *.jpg //rar格式的压缩，需要先下载rar for linux</p>
<p>zip jpg.zip *.jpg //zip格式的压缩，需要先下载zip for linux</p>
<p>解压</p>
<p>1、*.tar 用 tar –xvf 解压<br>2、*.gz 用 gzip -d或者gunzip 解压<br>3、*.tar.gz和*.tgz 用 tar –xzf 解压<br>4、*.bz2 用 bzip2 -d或者用bunzip2 解压<br>5、*.tar.bz2用tar –xjf 解压<br>6、*.Z 用 uncompress 解压<br>7、*.tar.Z 用tar –xZf 解压<br>8、*.rar 用 unrar e解压<br>9、*.zip 用 unzip 解压</p>
<h3 id="nohup命令"><a href="#nohup命令" class="headerlink" title="nohup命令"></a>nohup命令</h3><p>  该命令的一般形式为：<code>nohup command &amp;</code></p>
<p>  如果使用nohup命令提交作业，那么在缺省情况下该作业的所有输出都被重定向到一个名为 nohup.out的文件中，除非另外指定了输出文件：<br>  <code>nohup command &gt; myout.file 2&gt;&amp;1 &amp;</code><br>  在上面的例子中，输出被重定向到myout.file文件中。<br>  使用 jobs 查看任务。<br>  使用 fg %n 关闭。</p>
<h3 id="添加sudoer"><a href="#添加sudoer" class="headerlink" title="添加sudoer"></a>添加sudoer</h3><p>1）进入超级用户模式。也就是输入”su -“,系统会让你输入超级用户密码，输入密码后就进入了超级用户模式。（当然，你也可以直接用root用）<br>2）添加文件的写权限。也就是输入命令”chmod u+w /etc/sudoers”。<br>3）编辑/etc/sudoers文件。也就是输入命令”vim /etc/sudoers”,输入”i”进入编辑模式，找到这一 行：”root ALL=(ALL) ALL”在起下面添加”xxx ALL=(ALL) ALL”(这里的xxx是你的用户名)，然后保存（就是先按一 下Esc键，然后输入”:wq”）退出。<br>4）撤销文件的写权限。也就是输入命令”chmod u-w /etc/sudoers”。 </p>
<h2 id="Linux的文件权限与目录配置"><a href="#Linux的文件权限与目录配置" class="headerlink" title="Linux的文件权限与目录配置"></a>Linux的文件权限与目录配置</h2><ul>
<li><strong>使用者与群组</strong></li>
</ul>
<p><img src="_v_images/2019-11-18-21-04-32.png"></p>
<p>帐号 –&gt; /etc/passwd<br>密码 –&gt; /etc/shadow<br>group –&gt; /etc/group</p>
<ul>
<li><strong>文件属性</strong></li>
</ul>
<p><img src="_v_images/2019-11-18-21-04-54.png"></p>
<p>系统默认语系 –&gt; /etc/sysconfig/i18n</p>
<p><code>改变文件属怅不权限</code></p>
<ul>
<li>chgrp ：改变所属群组   –&gt; chgrp  groupname filename</li>
<li>chown ：改变拥有者     –&gt; chown [-R] 账号名称 filename/dir;   chown [-R] 账号名称:组名 filename/dir </li>
<li>chmod ：改变权限, SUID, SGID, SBIT 等</li>
</ul>
<p>r:4<br>w:2<br>x:1 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 .bashrc</span><br><span class="line">chmod  u/g/o/a  +/-/=  rwx   filename/dir</span><br><span class="line">chmod  u=rwx,go=rx  .bashrc</span><br></pre></td></tr></table></figure>

<p>将权限去掉而保留已存在的权限？如：要拿掉全部人的可执行权限<br><code>chmod  a-x  .bashrc</code></p>
<p><img src="_v_images/2019-11-18-21-06-39.png"></p>
<ul>
<li><strong>Linux更改文件拥有者|chown命令用法</strong></li>
</ul>
<p><a target="_blank" rel="noopener" href="http://www.isstudy.com/linux/4123.html">http://www.isstudy.com/linux/4123.html</a></p>
<p>chown [-R] 账户名称：用户组名称、文件或目录</p>
<p>参数：<br>-R ：进行递归的持续更改，即将同子目录下的所有文件、目录都更新问这个用户组。通常用在更改某一目录的情况。<br>范例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> [root@linux ~]#chown bin install.log</span><br><span class="line">[root@linux ~]#ls –l</span><br><span class="line">-rw-r--r--  1  bin  users  24343 Jun 23 08:33  install.log</span><br><span class="line">[root@linux ~]#chown  root:root  install.log</span><br><span class="line">[root@linux ~]#ls  -l</span><br><span class="line"></span><br><span class="line">-rw-r--r--  1  root  root  24343 Jun 23 08:33  install.log</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/28/backend/Linux/03-Linux%E5%AD%A6%E4%B9%A0/" data-id="ckqg285v2004mrcfpb4x9h1p8" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/06/28/backend/Linux/CentOS7%E4%B8%8B%E5%AE%89%E8%A3%85docker/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2021/06/28/backend/Docker%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/06/28/product/%E9%9C%80%E6%B1%82%E8%B0%83%E7%A0%94%E7%9A%84%E5%86%85%E5%AE%B9%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%8C%87%E5%BC%95/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/28/product/%E9%93%81%E8%B7%AF6C%E4%B8%9A%E5%8A%A1%E7%BB%93%E6%9E%84/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/28/product/%E9%9C%80%E6%B1%82%E8%B0%83%E7%A0%94%E5%8F%8A%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/28/product/%E6%B0%B4%E7%94%B5%E7%AB%99%E7%94%9F%E4%BA%A7%E8%BF%90%E8%A1%8C%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/28/product/%E6%B0%B4%E7%94%B5%E5%8E%82%E8%BF%90%E8%A1%8C%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>