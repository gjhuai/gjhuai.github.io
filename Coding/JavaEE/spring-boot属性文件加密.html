<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<link rel="stylesheet" href="../theme/css/my.css" /><h3>1 引入jar包</h3>
<p>在build.gradle文件中加入下面的依赖，并刷新gradle：</p>
<pre><code>runtime &quot;com.github.ulisesbocchio:jasypt-spring-boot-starter:1.16&quot;

</code></pre>
<p>刷新后，在本机的gradle本地库中能找到 jasypt-1.9.2.jar 文件，如果找不到，去网上下载。</p>
<h3>2 加密密码</h3>
<p>加密命令如下：</p>
<pre><code>java -cp jasypt-1.9.2.jar org.jasypt.intf.cli.JasyptPBEStringEncryptionCLI input=&quot; test123 &quot; password= e9fbdb2d3b21 algorithm=PBEWithMD5AndDES

</code></pre>
<p>test123为原密码，  e9fbdb2d3b21  为加密盐（后面要用）。</p>
<p>命令回显如下：</p>
<pre><code>----ENVIRONMENT-----------------

Runtime: Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 25.121-b13

----ARGUMENTS-------------------

algorithm: PBEWithMD5AndDES

input: test123

password: e9fbdb2d3b21

----OUTPUT----------------------

ArGx5ir2xs+CmXRhMnThpQ==

</code></pre>
<h3>3 在程序  application.properties  中设置密文和盐</h3>
<pre><code>jasypt.encryptor.password=e9fbdb2d3b21



spring.datasource.password=ENC( ArGx5ir2xs+CmXRhMnThpQ== )

</code></pre>
<p>在程序中设置密文需要使用格式：  ENC(密文)</p>
<h3>4 在Java命令行配置密文</h3>
<p>在启动命令中配置JVM参数（jasypt.encryptor.password），注入加密密文的密码。</p>
<p>如：</p>
<pre><code>java -Dfile.encoding=UTF8 -Djasypt.encryptor.password=e9fbdb2d3b21 -jar -Xmx512m settlement.jar

</code></pre>