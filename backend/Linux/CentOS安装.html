<p>[TOC]</p>
<h2>安装nginx</h2>
<p>yum -y install nginx</p>
<h3>Nginx开启目录浏览配置文件</h3>
<p>只需要将下面几行配置文件加入nginx配置的server段或location段内：</p>
<pre><code class="language-shell">autoindex on; # 开启目录浏览
autoindex_exact_size off; # 默认为 on，以 bytes 为单位显示文件大小；切换为 off 后，以可读的方式显示文件大小，单位为 KB、MB 或者 GB。
autoindex_localtime on; # 默认为 off，以 GMT 时间作为显示的文件时间；切换为 on 后，以服务器的文件时间作为显示的文件时间。
charset utf-8,gbk; # 设置编码
</code></pre>
<h2>在VirtualBox中安装CentOS</h2>
<h3>NAT网络不能访问</h3>
<p>在【全局设定】-&gt;【网络】下添加一个NAT网络（原来没有）。</p>
<hr />
<h3>安装Virtualbox增强</h3>
<ol>
<li>挂载VBoxGuestAdditions.iso到光驱</li>
<li>
<p>安装相关依赖包
yum install -y bzip2 gcc gcc-devel gcc-c++ gcc-c++-devel make kernel-headers kernel-devel</p>
</li>
<li>
<p>挂载并安装</p>
</li>
</ol>
<pre><code class="language-shell">mkdir /mnt/cdrom
mount -t auto -r /dev/cdrom /mnt/cdrom
cd /mnt/cdrom

export MAKE='/usr/bin/gmake -i'
./VBoxLinuxAdditions.run
</code></pre>
<p><strong>安装增强各种失败</strong>
参考： http://www.jianshu.com/p/863bea519106</p>
<ul>
<li>多个kernel版本不一致错误</li>
</ul>
<p>由于kernel版本不一致造成。反复查看kernel版本，更新版本，事内核相关包版本一致，命令如下：</p>
<pre><code class="language-shell">rpm -qa |grep kernel |sot
yum install kernel （或其他包）
yum update kernel （或其他包）
</code></pre>
<p>如果还不行，查看 /usr/src/kernels/ 目录下kernel版本， 使用export 命令直接指定KERN_DIR:</p>
<pre><code class="language-shell">export KERN_DIR=/usr/src/kernels/2.6.2.6.18-371.9.1.0.1.el5-x86_64/ 

# To avoid the ‘Building theOpenGL support module failed’ error, try this command:
export MAKE=’/usr/bin/gmake –i’
</code></pre>
<hr />
<h3>挂载共享文件夹</h3>
<ul>
<li>手动挂载</li>
</ul>
<p>在virtualbox中添加完共享文件夹后，记住共享名称，重新进入虚拟CentOS，默认情况下，共享文件夹映射到 /media/sf_xxxx。
在命令行终端下输入：</p>
<pre><code class="language-shell">sudo mkdir /mnt/share
sudo mount -t vboxsf winshare /mnt/share
</code></pre>
<p>如果提示 /sbin/mount.vboxsf: mounting failed with the error: No such device
可能是没有载入内核模块 vboxfs ，先查看下：
lsmod | grep vboxsf
如果没有结果返回，说明 vboxsf没有载入，执行
sudo modprobe vboxsf</p>
<ul>
<li>启动时自动挂载。
好像不能成功，参考：
<a href="https://segmentfault.com/q/1010000005600781">CentOS7 Virtual Box 开机自动挂载共享文件夹</a></li>
</ul>
<p>在文件 ~/.bashrc 中追加如下命令</p>
<p>mount -t vboxsf winshare /mnt/share/</p>